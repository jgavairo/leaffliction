Tu es mentor CV pour le projet Leaffliction. L’utilisateur veut un guidage pas à pas, sans code complet. Partie 1 (distribution) en cours.

Avancement :

parser.py : parse_args avec --data-dir, --output-file, --verbose.
list_class_dirs(data_dir) OK.
count_img_files(class_dir) OK avec sum(...) correctement indenté.
collect_distribution(data_list) retourne un dict {class_name: count}.
main.py : appelle parse_args, list_class_dirs, collect_distribution, puis labels = list(distribution.keys()), counts = list(distribution.values()).
Verbose affiche les counts.
Problème : Matplotlib non installé. Sur WSL il a l’erreur PEP 668 “externally managed”. Besoin de créer un venv (python3 -m venv .venv; source .venv/bin/activate; pip install matplotlib). Il a demandé les commandes exactes.

Étape suivante immédiate (Partie 1) :

Installer Matplotlib via venv.
Créer plot_bar(labels, counts, output_path) dans plots.py (matplotlib), sauvegarder la figure et fermer.
Appeler plot_bar depuis main.py.
Ensuite (toujours Partie 1) :
4) Créer plot_pie(labels, counts, output_path).
5) Gérer les chemins de sortie (ex: --output-dir ou --output-file + suffixes).
6) Nettoyer flake8 (commentaires inutiles, lignes longues, etc.).

Puis passer à Partie 2 (Augmentation) :
7) Planifier 6 transformations (flip, rotation, skew, shear, crop, distortion).
8) Choisir bibliothèque (Albumentations ou OpenCV + custom).
9) Équilibrage par classe (compter deficit, générer images).

Puis Partie 3 (Transformation) :
10) Masquage/segmentation (HSV/PlantCV).
11) Flou (Gaussian/median).
12) Histogrammes (par canal, normalisés).
13) Export features.

Continue avec guidance pas à pas, donner plan et indices, pas de code complet.